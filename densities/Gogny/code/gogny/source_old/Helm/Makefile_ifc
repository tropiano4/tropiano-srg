FORTRAN=ifort
FLAGS=-i-dynamic -r8 -O3 -w95 -implicitnone

all : main_ifc

input.mod : input.f90
	$(FORTRAN) $(FLAGS) -c $<

math.mod : math.f90 input.mod
	$(FORTRAN) $(FLAGS) -c $<

formfactor.mod : formfactor.f90 math.mod input.mod
	$(FORTRAN) $(FLAGS) -c $<

main.o : main.f90 math.mod input.mod formfactor.mod
	$(FORTRAN) $(FLAGS) -c $<

main_ifc : main.o math.o input.o formfactor.o math.o
	$(FORTRAN) $(FLAGS) -o $@ $^

clean :
	rm -f *.o *.mod *~ main
